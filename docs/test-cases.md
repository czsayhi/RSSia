# RSS智能订阅器 - 测试用例库

## 📝 测试用例说明
本文档包含用于测试RSS智能订阅器功能的各种订阅源，涵盖不同平台和订阅类型。

---

## 🎯 B站（Bilibili）测试用例

### 测试用例1: B站UP主视频订阅 - DIYgod
- **RSS URL**: https://rsshub.app/bilibili/user/video/2267573
- **用户ID**: `2267573`
- **平台**: bilibili
- **内容类型**: video
- **描述**: 订阅DIYgod的B站视频投稿
- **模板ID**: 1（B站用户视频）

### 测试用例2: B站UP主视频订阅 - 另一用户
- **RSS URL**: https://rsshub.app/bilibili/user/video/297572288
- **用户ID**: `297572288`
- **平台**: bilibili
- **内容类型**: video
- **描述**: 订阅另一B站用户的视频投稿
- **模板ID**: 1（B站用户视频）

---

## 🐦 微博（Weibo）测试用例

### 测试用例3: 微博博主订阅 - 用户A
- **RSS URL**: https://rsshub.app/weibo/user/1673951863
- **用户ID**: `1673951863`
- **平台**: weibo
- **内容类型**: post
- **描述**: 订阅微博用户的动态
- **模板ID**: 3（微博用户动态）

### 测试用例4: 微博博主订阅 - 阑夕（科技博主）
- **RSS URL**: https://rsshub.app/weibo/user/1560906700
- **用户ID**: `1560906700`
- **平台**: weibo
- **内容类型**: post
- **描述**: 订阅阑夕的微博动态（互联网视频博主，知名科技自媒体）
- **模板ID**: 3（微博用户动态）
- **验证状态**: ✅ 已验证可用（2025-06-09）

### 测试用例5: 微博关键词订阅 - AI行业
- **RSS URL**: https://rsshub.app/weibo/keyword/ai行业
- **关键词**: `ai行业`
- **平台**: weibo
- **内容类型**: keyword
- **描述**: 订阅包含"ai行业"关键词的微博内容
- **注**: 需要新增关键词订阅模板

---

## 🟡 即刻（Jike）测试用例

### 测试用例6: 即刻用户订阅
- **RSS URL**: https://rsshub.app/jike/user/82D23B32-CF36-4C59-AD6F-D05E3552CBF3
- **用户ID**: `82D23B32-CF36-4C59-AD6F-D05E3552CBF3`
- **平台**: jike
- **内容类型**: user
- **描述**: 订阅即刻用户的内容
- **注**: 需要新增即刻平台模板

### 测试用例7: 即刻圈子订阅
- **RSS URL**: https://rsshub.app/jike/topic/63579abb6724cc583b9bba9a
- **圈子ID**: `63579abb6724cc583b9bba9a`
- **平台**: jike
- **内容类型**: topic
- **描述**: 订阅即刻特定圈子的内容
- **注**: 需要新增即刻圈子模板

---

## 🧪 测试执行记录

### 当前已完成测试:
- [x] **测试用例1**: ✅ 成功创建（2025-06-09 16:40）
  - 订阅ID: 1
  - 自定义名称: "DIYgod的B站视频订阅"
  - 状态: 已删除（测试删除功能）
  
- [x] **测试用例4**: ✅ 成功创建（2025-06-09 17:01）
  - 订阅ID: 2
  - 自定义名称: "阑夕的微博动态（科技博主）"
  - 状态: 活跃
  - RSS源验证: ✅ 可用，已获取实际内容

### 待测试用例:
- [ ] 测试用例2: B站用户297572288
- [ ] 测试用例3: 微博用户1673951863  
- [ ] 测试用例5: 微博关键词"ai行业"
- [ ] 测试用例6: 即刻用户订阅
- [ ] 测试用例7: 即刻圈子订阅

### 功能验证记录:
- ✅ 订阅模板获取API
- ✅ 创建订阅API（B站/微博）
- ✅ 订阅列表查询API
- ✅ 删除订阅API（软删除）
- ✅ SQLite数据库持久化
- ✅ 分页功能

---

## 🧪 v0.6新增测试用例 (用户内容管理和标签筛选)

### 用户内容管理API测试
- [x] **健康检查API** - 验证系统状态和调度器运行情况
- [x] **用户内容列表API** - 验证分页查询和内容聚合功能
- [x] **用户标签推荐API** - 验证标签计算算法和推荐准确性
- [x] **标签筛选功能** - 验证单选标签筛选的准确性

### 标签缓存系统测试
- [x] **标签缓存创建** - 验证用户标签的自动缓存机制
- [x] **缓存有效性检查** - 验证30分钟缓存窗口和失效机制
- [x] **批量更新测试** - 验证多用户标签的批量更新功能
- [x] **定时任务调度** - 验证后台定时任务的正确执行

### 标签管理后台测试
- [x] **缓存状态监控** - 验证所有用户缓存状态的实时查看
- [x] **系统统计信息** - 验证缓存覆盖率、用户活跃度等指标
- [x] **手动操作功能** - 验证手动触发更新和清理功能
- [x] **用户标签分析** - 验证单用户标签详情和分析功能

### 性能和稳定性测试
- [x] **API响应时间** - 所有API响应时间<300ms
- [x] **分页功能验证** - 验证has_next判断和无重复数据
- [x] **数据完整性检查** - 验证跨订阅源的内容聚合准确性
- [x] **异常处理测试** - 验证统一错误处理和异常恢复

---

## 📊 测试统计
- **v0.1-v0.5 测试用例数**: 7
- **v0.6 新增测试用例数**: 16
- **总测试用例数**: 23
- **已完成**: 18 (v0.1-v0.5: 2个, v0.6: 16个)
- **成功率**: 100% (18/18)
- **平台覆盖**: B站✅, 微博✅, 即刻⏳
- **功能模块覆盖**: 订阅管理✅, 内容管理✅, 标签系统✅

---

## 🔄 随机测试选择
每次测试从未完成的用例中随机选择一个进行验证。 