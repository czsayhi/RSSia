# 需求讨论纪要 - 2024-12-19

## 参与者
- 用户（产品需求方）
- AI助手（技术实现方）

## 讨论议题
- RSS智能订阅器项目需求分析和技术方案设计
- 基于RSSHub的双模式订阅系统实现
- 用户交互友好性和后端扩展性设计
- MVP功能范围确定和开发计划制定

## 达成共识

### 1. 产品定位
- 基于RSSHub构建智能RSS订阅系统
- 解决信息获取渠道多、筛选难、体验差的问题
- 支持精准订阅和主题聚合两种订阅模式
- 后期集成LLM实现智能内容处理

### 2. 核心功能确定
- **双模式订阅系统**：
  - 精准订阅：按平台+用户/内容维度精确订阅
  - 主题聚合：跨平台关键词聚合订阅
- **用户认证**：MVP阶段使用简化本地认证，后期支持微信登录
- **内容管理**：定时抓取、卡片展示、收藏、标签过滤
- **AI功能预留**：为后期大模型处理预留接口和数据结构

### 3. 技术架构
- **前端**：Next.js + React + Tailwind CSS
- **后端**：FastAPI + SQLite + APScheduler
- **RSS引擎**：RSSHub公共实例（MVP） + 后期自部署
- **部署**：Docker Compose一键启动

### 4. MVP平台支持
确定支持以下5个核心平台：
- B站：用户动态、用户视频、关键词搜索
- 微博：用户微博、关键词搜索  
- 知乎：用户动态、话题内容
- GitHub：仓库动态、用户活动
- 掘金：用户文章、标签内容

## 技术决策

### 1. RSSHub集成方案
- **兼容性确认**：我们的订阅模板设计与RSSHub路由规范完全兼容
- **URL生成**：使用模板替换方式生成标准RSSHub URL
- **部署策略**：MVP阶段使用`https://rsshub.app`公共实例

### 2. 数据库架构设计
- 采用模板化设计实现高扩展性
- 核心表：订阅模板表、用户订阅表、订阅源实例表、内容表
- 支持JSON字段存储灵活配置

### 3. 用户体验优化
- **智能输入**：支持URL自动解析和参数提取
- **统一界面**：双模式订阅共用统一的创建界面
- **预览功能**：订阅创建时显示预览效果

### 4. 扩展性设计
- **新平台接入**：仅需添加订阅模板配置，无需代码变更
- **配置化管理**：所有平台参数通过数据库配置
- **API标准化**：统一的RESTful API设计

## 重要讨论结果

### 1. 主题聚合订阅实现
**问题**：是否支持跨平台主题订阅？
**结论**：确认支持，用户输入主题和关键词，系统自动生成多平台RSS源并聚合展示

**实现方案**：
- 一个主题订阅生成多个RSSHub路由
- 后端统一抓取并按时间聚合
- 基于标题相似度进行内容去重

### 2. 用户认证简化
**问题**：MVP阶段是否必须实现微信登录？
**结论**：MVP使用本地Token认证，降低实现复杂度

### 3. 数据持久化策略
**问题**：内容数据保留策略？
**结论**：订阅配置永久保存，内容数据保留1天，用户重新登录时按配置拉取最新内容

### 4. RSSHub部署方式
**问题**：是否需要自部署RSSHub？
**结论**：MVP阶段使用公共实例，后期根据需要Docker化部署

## 待跟进事项

### 开发阶段
- [ ] 创建项目基础架构（前后端框架）
- [ ] 实现数据库设计和初始化脚本
- [ ] 开发订阅模板配置系统
- [ ] 实现双模式订阅功能
- [ ] 开发内容抓取和展示功能
- [ ] 完成前端界面开发
- [ ] 系统测试和部署优化

### 技术细节
- [ ] 编写详细的API接口文档
- [ ] 设计URL解析器的具体实现
- [ ] 确定内容去重算法
- [ ] 完善错误处理和监控机制

### 文档输出
- [ ] 完善项目README
- [ ] 编写部署指南
- [ ] 制作用户使用手册

## 需求文档更新

基于本次讨论，已生成正式的《RSS智能订阅器需求规范文档》，包含：

1. **完整功能需求**：双模式订阅、内容管理、AI功能预留
2. **详细技术规范**：数据库设计、API设计、RSSHub集成规范
3. **开发计划**：4个里程碑，2-3周完成MVP
4. **验收标准**：功能、技术、性能三个维度的验收要求

文档位置：`docs/requirements/requirements-specification.md`

## 下一步行动

**用户确认**：请用户检查需求规范文档，确认无误后开始开发

**开发启动**：用户确认后立即开始"搭建项目基础架构"，预计3-4天完成第一个里程碑

---

**纪要记录时间**：2024-12-19  
**下次讨论**：用户确认需求文档后进入开发阶段  
**状态**：等待用户确认 